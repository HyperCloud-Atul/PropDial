{"ast":null,"code":"var _jsxFileName = \"F:\\\\Apps\\\\hypercloud-github\\\\PropDial\\\\code\\\\v0.2\\\\src\\\\pages\\\\create\\\\AddDocument.js\",\n  _s = $RefreshSig$();\nimport { useState, useEffect } from \"react\";\nimport { useCollection } from \"../../hooks/useCollection\";\nimport { useAuthContext } from \"../../hooks/useAuthContext\";\nimport { projectStorage, timestamp } from \"../../firebase/config\";\nimport { useFirestore } from \"../../hooks/useFirestore\";\nimport { useDocument } from \"../../hooks/useDocument\";\nimport Select from \"react-select\";\nimport { useNavigate } from \"react-router-dom\";\nimport { useLocation } from \"react-router-dom\";\nimport { useImageUpload } from \"../../hooks/useImageUpload\";\nimport DatePicker from \"react-datepicker\";\nimport Avatar from \"../../Components/Avatar\";\n\n// styles\nimport \"./AddBill.css\";\nimport { el } from \"date-fns/locale\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function AddDocument(props) {\n  _s();\n  const {\n    state\n  } = useLocation();\n  const {\n    propertyid\n  } = state;\n  const navigate = useNavigate();\n  const {\n    addDocument,\n    response\n  } = useFirestore(\"documents\");\n  // const { document, error } = useDocument('properties', propertyid)\n  const {\n    document: property,\n    error: propertyerror\n  } = useDocument(\"properties\", propertyid);\n  const {\n    document: masterDataDocumentType,\n    error: masterDataDocumentTypeerror\n  } = useDocument(\"master\", \"DOCUMENTTYPE\");\n  const {\n    document: propertyDocuments,\n    error: propertyDocumentserror\n  } = useDocument(\"documents\", [\"propertyid\", \"==\", propertyid]);\n  const {\n    user\n  } = useAuthContext();\n  const {\n    documents\n  } = useCollection(\"users\");\n  const [users, setUsers] = useState([]);\n  const [thumbnail, setThumbnail] = useState(null);\n  const [thumbnailError, setThumbnailError] = useState(null);\n  const {\n    imgUpload,\n    isImgCompressPending,\n    imgCompressedFile\n  } = useImageUpload();\n  // const [toggleFlag, setToggleFlag] = useState(false)\n\n  // form field values\n  const [documentType, setDocumentType] = useState(\"ALL\");\n  const [documentName, setDocumentName] = useState(\"\");\n  const [status, setStatus] = useState(\"active\");\n  const [formError, setFormError] = useState(null);\n  const [documentTypeOptionsSorted, setdocumentTypeOptionsSorted] = useState(null);\n  let documentTypeOptions;\n  if (masterDataDocumentType) {\n    documentTypeOptions = masterDataDocumentType.data.map(documentTypeData => ({\n      label: documentTypeData.toUpperCase(),\n      value: documentTypeData\n    }));\n  }\n\n  // create user values for react-select\n  useEffect(() => {\n    if (documents) {\n      setUsers(documents.map(user => {\n        var userDetails = user.displayName + \"(\" + user.role + \")\";\n        // console.log('userDetails:', userDetails)\n        return {\n          value: {\n            ...user,\n            id: user.id\n          },\n          label: userDetails\n        };\n      }));\n    }\n    if (documentTypeOptions) {\n      setdocumentTypeOptionsSorted(documentTypeOptions.sort((a, b) => a.label.localeCompare(b.label)));\n    }\n  }, [documents]);\n  const handleFileChange = async e => {\n    setThumbnail(null);\n    let file = e.target.files[0];\n    // console.log('file original selected:', file)\n    // console.log('file size original selected:', file.size)\n    // const image = await resizeFile(file);\n    // const newImageFile = dataURIToBlob(image);\n\n    const compressedImage = await imgUpload(file, 300, 300);\n    // console.log('imgCom compressed in Signup.js', compressedImage);\n    // console.log('imgCom size after compressed in Signup.js', compressedImage.size);\n\n    if (!compressedImage) {\n      setThumbnailError(\"Please select a file\");\n      return;\n    }\n    if (!compressedImage.type.includes(\"image\")) {\n      setThumbnailError(\"Selected file must be an image\");\n      return;\n    }\n\n    // if (newImageFile.size > 20000000) {\n    //   setThumbnailError('Image file size must be less than 20mb')\n    //   return\n    // }\n\n    setThumbnailError(null);\n    setThumbnail(compressedImage);\n    console.log(\"thumbnail updated\");\n  };\n  const handleSubmit = async e => {\n    e.preventDefault();\n    setFormError(null);\n    let imgUrl = \"\";\n    if (thumbnail) {\n      // console.log('thumbnail in useSignup 2:', thumbnail)\n      let documentName = propertyDocuments.length + 1 + \".png\";\n      const uploadPath = `propertyDocuments/${propertyid}/${documentName}`;\n      const img = await projectStorage.ref(uploadPath).put(thumbnail);\n      imgUrl = await img.ref.getDownloadURL();\n    }\n    const propertyDocument = {\n      propertyid,\n      documentType: documentType.label,\n      documentName,\n      documenturl: imgUrl,\n      status\n    };\n    await addDocument(propertyDocument);\n    if (!response.error) {\n      navigate(\"/\");\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"page-title\",\n      children: [/*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"material-symbols-outlined\",\n        children: \"photo_camera\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 142,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"Add Document \"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 143,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 141,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        overflow: \"hidden\"\n      },\n      children: /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: handleSubmit,\n        className: \"auth-form\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"row no-gutters\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"col-lg-6 col-md-6 col-sm-12\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n                className: \"owner-heading\",\n                children: \"Document Type\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 151,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"\",\n                children: /*#__PURE__*/_jsxDEV(Select, {\n                  className: \"\",\n                  onChange: option => setDocumentType(option),\n                  options: documentTypeOptionsSorted,\n                  value: documentType,\n                  styles: {\n                    control: (baseStyles, state) => ({\n                      ...baseStyles,\n                      outline: \"none\",\n                      background: \"#eee\",\n                      borderBottom: \" 1px solid var(--blue-color)\"\n                    })\n                  }\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 153,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 152,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 150,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 171,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n                className: \"owner-heading\",\n                children: \"Document Name\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 172,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                required: true,\n                type: \"text\",\n                maxLength: 60,\n                onChange: e => setDocumentName(e.target.value),\n                value: documentName\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 173,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 170,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"form-field-title\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"material-symbols-outlined\",\n                  children: \"photo_camera\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 183,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n                  children: \"Document Photo\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 186,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"file\",\n                  onChange: handleFileChange\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 187,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 182,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 181,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 149,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 148,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 194,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            display: \"flex\",\n            justifyContent: \"center\"\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"btn\",\n            children: \"Add Document\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 196,\n            columnNumber: 13\n          }, this), formError && /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"error\",\n            children: formError\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 197,\n            columnNumber: 27\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 195,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 199,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 147,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 146,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 140,\n    columnNumber: 5\n  }, this);\n}\n_s(AddDocument, \"N6lfIjk+cbGlhnTeIqZvNCSa1aY=\", false, function () {\n  return [useLocation, useNavigate, useFirestore, useDocument, useDocument, useDocument, useAuthContext, useCollection, useImageUpload];\n});\n_c = AddDocument;\nvar _c;\n$RefreshReg$(_c, \"AddDocument\");","map":{"version":3,"names":["useState","useEffect","useCollection","useAuthContext","projectStorage","timestamp","useFirestore","useDocument","Select","useNavigate","useLocation","useImageUpload","DatePicker","Avatar","el","jsxDEV","_jsxDEV","AddDocument","props","_s","state","propertyid","navigate","addDocument","response","document","property","error","propertyerror","masterDataDocumentType","masterDataDocumentTypeerror","propertyDocuments","propertyDocumentserror","user","documents","users","setUsers","thumbnail","setThumbnail","thumbnailError","setThumbnailError","imgUpload","isImgCompressPending","imgCompressedFile","documentType","setDocumentType","documentName","setDocumentName","status","setStatus","formError","setFormError","documentTypeOptionsSorted","setdocumentTypeOptionsSorted","documentTypeOptions","data","map","documentTypeData","label","toUpperCase","value","userDetails","displayName","role","id","sort","a","b","localeCompare","handleFileChange","e","file","target","files","compressedImage","type","includes","console","log","handleSubmit","preventDefault","imgUrl","length","uploadPath","img","ref","put","getDownloadURL","propertyDocument","documenturl","children","className","fileName","_jsxFileName","lineNumber","columnNumber","style","overflow","onSubmit","onChange","option","options","styles","control","baseStyles","outline","background","borderBottom","required","maxLength","display","justifyContent","_c","$RefreshReg$"],"sources":["F:/Apps/hypercloud-github/PropDial/code/v0.2/src/pages/create/AddDocument.js"],"sourcesContent":["import { useState, useEffect } from \"react\";\r\nimport { useCollection } from \"../../hooks/useCollection\";\r\nimport { useAuthContext } from \"../../hooks/useAuthContext\";\r\nimport { projectStorage, timestamp } from \"../../firebase/config\";\r\nimport { useFirestore } from \"../../hooks/useFirestore\";\r\nimport { useDocument } from \"../../hooks/useDocument\";\r\nimport Select from \"react-select\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport { useLocation } from \"react-router-dom\";\r\nimport { useImageUpload } from \"../../hooks/useImageUpload\";\r\nimport DatePicker from \"react-datepicker\";\r\nimport Avatar from \"../../Components/Avatar\";\r\n\r\n// styles\r\nimport \"./AddBill.css\";\r\nimport { el } from \"date-fns/locale\";\r\n\r\nexport default function AddDocument(props) {\r\n  const { state } = useLocation();\r\n  const { propertyid } = state;\r\n  const navigate = useNavigate();\r\n  const { addDocument, response } = useFirestore(\"documents\");\r\n  // const { document, error } = useDocument('properties', propertyid)\r\n  const { document: property, error: propertyerror } = useDocument(\r\n    \"properties\",\r\n    propertyid\r\n  );\r\n  const {\r\n    document: masterDataDocumentType,\r\n    error: masterDataDocumentTypeerror,\r\n  } = useDocument(\"master\", \"DOCUMENTTYPE\");\r\n  const { document: propertyDocuments, error: propertyDocumentserror } =\r\n    useDocument(\"documents\", [\"propertyid\", \"==\", propertyid]);\r\n\r\n  const { user } = useAuthContext();\r\n  const { documents } = useCollection(\"users\");\r\n  const [users, setUsers] = useState([]);\r\n  const [thumbnail, setThumbnail] = useState(null);\r\n  const [thumbnailError, setThumbnailError] = useState(null);\r\n  const { imgUpload, isImgCompressPending, imgCompressedFile } =\r\n    useImageUpload();\r\n  // const [toggleFlag, setToggleFlag] = useState(false)\r\n\r\n  // form field values\r\n  const [documentType, setDocumentType] = useState(\"ALL\");\r\n  const [documentName, setDocumentName] = useState(\"\");\r\n  const [status, setStatus] = useState(\"active\");\r\n  const [formError, setFormError] = useState(null);\r\n  const [documentTypeOptionsSorted, setdocumentTypeOptionsSorted] =\r\n    useState(null);\r\n\r\n  let documentTypeOptions;\r\n  if (masterDataDocumentType) {\r\n    documentTypeOptions = masterDataDocumentType.data.map(\r\n      (documentTypeData) => ({\r\n        label: documentTypeData.toUpperCase(),\r\n        value: documentTypeData,\r\n      })\r\n    );\r\n  }\r\n\r\n  // create user values for react-select\r\n  useEffect(() => {\r\n    if (documents) {\r\n      setUsers(\r\n        documents.map((user) => {\r\n          var userDetails = user.displayName + \"(\" + user.role + \")\";\r\n          // console.log('userDetails:', userDetails)\r\n          return { value: { ...user, id: user.id }, label: userDetails };\r\n        })\r\n      );\r\n    }\r\n\r\n    if (documentTypeOptions) {\r\n      setdocumentTypeOptionsSorted(\r\n        documentTypeOptions.sort((a, b) => a.label.localeCompare(b.label))\r\n      );\r\n    }\r\n  }, [documents]);\r\n\r\n  const handleFileChange = async (e) => {\r\n    setThumbnail(null);\r\n    let file = e.target.files[0];\r\n    // console.log('file original selected:', file)\r\n    // console.log('file size original selected:', file.size)\r\n    // const image = await resizeFile(file);\r\n    // const newImageFile = dataURIToBlob(image);\r\n\r\n    const compressedImage = await imgUpload(file, 300, 300);\r\n    // console.log('imgCom compressed in Signup.js', compressedImage);\r\n    // console.log('imgCom size after compressed in Signup.js', compressedImage.size);\r\n\r\n    if (!compressedImage) {\r\n      setThumbnailError(\"Please select a file\");\r\n      return;\r\n    }\r\n    if (!compressedImage.type.includes(\"image\")) {\r\n      setThumbnailError(\"Selected file must be an image\");\r\n      return;\r\n    }\r\n\r\n    // if (newImageFile.size > 20000000) {\r\n    //   setThumbnailError('Image file size must be less than 20mb')\r\n    //   return\r\n    // }\r\n\r\n    setThumbnailError(null);\r\n    setThumbnail(compressedImage);\r\n    console.log(\"thumbnail updated\");\r\n  };\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    setFormError(null);\r\n\r\n    let imgUrl = \"\";\r\n    if (thumbnail) {\r\n      // console.log('thumbnail in useSignup 2:', thumbnail)\r\n      let documentName = propertyDocuments.length + 1 + \".png\";\r\n      const uploadPath = `propertyDocuments/${propertyid}/${documentName}`;\r\n      const img = await projectStorage.ref(uploadPath).put(thumbnail);\r\n      imgUrl = await img.ref.getDownloadURL();\r\n    }\r\n\r\n    const propertyDocument = {\r\n      propertyid,\r\n      documentType: documentType.label,\r\n      documentName,\r\n      documenturl: imgUrl,\r\n      status,\r\n    };\r\n\r\n    await addDocument(propertyDocument);\r\n    if (!response.error) {\r\n      navigate(\"/\");\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <div className=\"page-title\">\r\n        <span className=\"material-symbols-outlined\">photo_camera</span>\r\n        <h1>Add Document </h1>\r\n      </div>\r\n\r\n      <div style={{ overflow: \"hidden\" }}>\r\n        <form onSubmit={handleSubmit} className=\"auth-form\">\r\n          <div className=\"row no-gutters\">\r\n            <div className=\"col-lg-6 col-md-6 col-sm-12\">\r\n              <div>\r\n                <h1 className=\"owner-heading\">Document Type</h1>\r\n                <div className=\"\">\r\n                  <Select\r\n                    className=\"\"\r\n                    onChange={(option) => setDocumentType(option)}\r\n                    options={documentTypeOptionsSorted}\r\n                    value={documentType}\r\n                    styles={{\r\n                      control: (baseStyles, state) => ({\r\n                        ...baseStyles,\r\n                        outline: \"none\",\r\n                        background: \"#eee\",\r\n                        borderBottom: \" 1px solid var(--blue-color)\",\r\n                      }),\r\n                    }}\r\n                  />\r\n                </div>\r\n              </div>\r\n\r\n              <div>\r\n                <br />\r\n                <h1 className=\"owner-heading\">Document Name</h1>\r\n                <input\r\n                  required\r\n                  type=\"text\"\r\n                  maxLength={60}\r\n                  onChange={(e) => setDocumentName(e.target.value)}\r\n                  value={documentName}\r\n                />\r\n              </div>\r\n              <label>\r\n                <div className=\"form-field-title\">\r\n                  <span className=\"material-symbols-outlined\">\r\n                    photo_camera\r\n                  </span>\r\n                  <h1>Document Photo</h1>\r\n                  <input type=\"file\" onChange={handleFileChange} />\r\n                </div>\r\n\r\n                {/* {thumbnailError && <div className=\"error\">{thumbnailError}</div>} */}\r\n              </label>\r\n            </div>\r\n          </div>\r\n          <br />\r\n          <div style={{ display: \"flex\", justifyContent: \"center\" }}>\r\n            <button className=\"btn\">Add Document</button>\r\n            {formError && <p className=\"error\">{formError}</p>}\r\n          </div>\r\n          <br />\r\n        </form>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}